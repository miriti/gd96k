<!DOCTYPE html><html><style>html,head{margin:0px;padding:0px;background-color:#333;}#c{width:800px;margin-right:auto;margin-left:auto;}</style><body><div id="c"></div><script>'use strict';function c(a,b){null!==b&&(a.prototype=Object.create(b.prototype));a.prototype.constructor=a}var d=Array(256);function g(a){return"undefined"!==typeof d[a]&&null!==d[a]?(new Date).getTime()-d[a]:0}function h(){this.children=[];this.rotation=this.y=this.x=0}c(h,null);h.prototype.rect=function(a,b,k,e,f,l){a.fillStyle="#"+l;a.strokeStyle="#000";a.lineWidth=1;a.fillRect(b,k,e,f)};h.prototype.removeChild=function(a){a=this.children.indexOf(a);-1!=a&&this.children.splice(a,1)};
h.prototype.update=function(a){for(var b in this.children)this.children[b].update(a)};h.prototype.a=function(a){a.translate(this.x,this.y);a.rotate(this.rotation);if(0<this.children.length)for(var b in this.children)a.save(),this.children[b].a(a),a.restore()};function m(){h.call(this);this.x=400;this.y=300}c(m,h);m.prototype.a=function(a){h.prototype.a.call(this,a);this.rect(a,-50,-50,100,100,"fff")};
m.prototype.update=function(a){d[37]&&(this.x-=g(37)*a);d[38]&&(this.y-=g(38)*a);d[39]&&(this.x+=g(39)*a);d[40]&&(this.y+=g(40)*a)};function n(){h.call(this);this.children.push(new m)}c(n,h);function q(){this.b=null}c(q,null);function r(a){var b=new n;a.b=b}q.prototype.update=function(a){null!==this.b&&this.b.update(a)};q.prototype.a=function(a){null!==this.b&&this.b.a(a)};
(function(a,b){function k(){var a=(new Date).getTime(),b=a-l;l=a;f.setTransform(1,0,0,1,0,0);f.fillStyle="#111";f.fillRect(0,0,800,600);p.update(b/1E3);p.a(f);requestAnimationFrame(k)}var e=a.createElement("canvas"),f=e.getContext("2d"),l=(new Date).getTime(),p=new q;e.width=800;e.height=600;a.getElementById("c").appendChild(e);b.addEventListener("keydown",function(a){if("undefined"==typeof d[a.keyCode]||null===d[a.keyCode])d[a.keyCode]=(new Date).getTime()});b.addEventListener("keyup",function(a){d[a.keyCode]=
null});r(p);k()})(document,window);
</script></body></html>